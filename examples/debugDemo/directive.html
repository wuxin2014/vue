<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>自定义指令 directive-debugger</title>
    <style>
      body {
        font-family: Menlo, Consolas, monospace;
        color: #444;
      }
    </style>
    <script src="../../dist/vue.js"></script>
  </head>
  <body>
    <!-- App template (in DOM) -->
    <div id="app">
      <input v-model="name" v-focus />
    </div>
    <script>
      // v-pin="200"
      Vue.directive('pin', {
        bind(el, binding, vnode) {
          el.style.position = 'fixed'
          el.style.top = binding.value + 'px'
        }
      })
      // 动态指令参数 v-pin:[direction]="200"  direction:'left'
      Vue.directive('pin', {
        bind: function (el, binding, vnode) {
          el.style.position = 'fixed'
          var s = (binding.arg == 'left' ? 'left' : 'top')
          el.style[s] = binding.value + 'px'
        }
      })
      // <div id="hook-arguments-example" v-demo:foo.a.b="message"></div>
      Vue.directive('demo', {
        bind: function (el, binding, vnode) {
          // binding对象: { name: 'demo', value: message变量值, expression: message, arg: foo, modifiers: {a:true, b:true}}
        }
      })
      var app = new Vue({
        el: '#app',
        data() {
          return {
            name: 'haha'
          }
        },
        // 指令的定义
        directives: {
          focus: {
            bind(el, binding, vnode, oldVnode) {},
            inserted(el, binding, vnode, oldVnode) {
              el.focus()
            },
            update(el, binding, vnode, oldVnode) {},
            componentUpdated(el, binding, vnode, oldVnode) {},
            unbind(el, binding, vnode, oldVnode) {}
          }
        },
        methods: {
          showAge() {
            console.log('====')
          }
        }
      })

      // (function anonymous() {
      //   with(this){
      //     return _c('div',{attrs:{"id":"app"}},[
      //       _c('input',{
      //         directives:[
      //           {name:"model",rawName:"v-model",value:(name),expression:"name"},
      //           {name:"focus",rawName:"v-focus"}
      //         ],
      //         domProps:{"value":(name)},
      //         on:{
      //           "input":function($event){
      //             if($event.target.composing)return;
      //             name=$event.target.value
      //           }
      //         }
      //       })
      //     ])
      //   }
      // })
    </script>
  </body>
</html>